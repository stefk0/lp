\chapter{Логически основи}


\begin{itemize}
\item
  Език на съждителното смятане
\item
  Удовлетворимост на съждителна формула
\item
  Език на предикатно смятане
\item
  Определимост
\item
  Изпълнимост на предикатна формула
\item
  Тавтологии
\item
  Неизпълнимост на предикатна формула
\end{itemize}

\begin{itemize}
\item
  Големи букви - предикатни символи
\item
  Малки букви - функционални символи
\item
  Знаем арността на всеки предикатен и функционален символ.
\item
  константи - функционални символи с нулева арност.
\end{itemize}

\section{Определимост}


\subsection{Основни понятия}


\begin{problem}
  Нека за езика $\L = \{P\}$, с $\sharp P = 2$, да разгледаме структурата $\A = (A,P^\A)$, където
  \[A = \{\pair{x,y,r} \in \Real^3 \mid r >0\}.\]
  Универсумът на $A$ се интерпретира като съвкупността от всички окръжности с ненулев радиус.
  Предикатът $P^\A$ е опреден по един от следните начини:
  \begin{enumerate}[1)]
  \item
    $P^\A(a,b)$ точно тогава, когато $a$ и $b$ нямат общи точки (празно сечение).
  \item
    $P^\A(a,b)$ точно тогава, когато $a$ и $b$ имат точно една обща точка (външен допир).
  \item
    $P^\A(a,b)$ точно тогава, когато $a$ се включва в $b$, без $a$ да се допира до $b$ (строго включване).
  \item
    $P^\A(a,b)$ точно тогава, когато $a$ се включва в $b$, като $a$ се допира до $b$ (вътрешен допир).
  \item
    $P^\A(a,b)$ точно тогава, когато $a$ се застъпва частично с $b$ (има точки в сечението и има точки в $a$ извън $b$ и точки от $b$ извън $a$).
  \end{enumerate}
    
  % Следните релации са определими:
  % \begin{enumerate}[1)]
  % \item
  %   Равенство;
  % \item
  %   Непразно сечение (имат повече от една точка);
  % \item
  %   Частично припокриване (повече от една обща точка, но без да се включват едно в друго);
  % \item
  %   Празно сечение;
  % \item
  %   Вътрешен допир;
  % \item
  %   Външен допир (една обща точка);
  % \item
  %   строго включване
  % \end{enumerate}
\end{problem}
\begin{hint}
  Винаги можем да определим равенството по следния начин:
  \[\phi_{=}(x,y) \equiv (\forall z)[P(x,z) \iff P(y,x)].\]
  % \begin{enumerate}[1)]
  % \item
  %   \[\phi_{point}(x,y) \equiv \neg P(x,y) \land (\forall u)(\forall v)[P(u,v) \to (P(u,x) \lor P(v,y))];\]
  %   \[\phi_{\cap}(x,y) \equiv \neg P(x,y) \land (\exists u)(\exists v)[P(u,v)\land \neg P(u,x) \land \neg P(v,y)];\]
  %   \[\phi_{internal}(x,y) \equiv \]
  % \end{enumerate}
\end{hint}

\begin{problem}
  Да разгледаме езика $\L = \{P\}$, с $\sharp P = 3$, и структурата $\A$ над езика $\L$ с универсум $\Sigma^\star$, $\Sigma \neq \emptyset$,
  като $\A \models P(\alpha,\beta,\gamma) \iff \alpha \cdot \beta = \gamma$.
  Да се докаже, че следните множества са определими в $\A$:
  \begin{itemize}
  \item
    $\{\varepsilon\}$;
  \item
    $\{\omega \in \Sigma^\star \mid |\omega| = 1\}$;
  \item
    $\{\omega \in \Sigma^\star \mid |\omega| = 2\}$;
  \item
    $\{(\alpha,\beta) \mid \alpha \text{ е префикс на }\beta\}$;
  \item
    $\{(\alpha,\beta) \in (\Sigma^\star)^2 \mid \alpha = \beta\}$;
  \item
    $\{(\alpha,\beta) \mid \alpha \text{ е поддума на }\beta\}$;
  \end{itemize}
  Да се напише формула, която е вярна тогава и само тогава, когато азбуката $\Sigma$ е еднобуквена.
  Да се докаже, че когато $\Sigma = \{a,b\}$ не е определимо $\{aa\}$.
\end{problem}

% \begin{problem}
%   Нека $\A = (\{0,1\}^\star, =, \circ)$.
%   Докажете, че следните релации са определими:
%   \begin{itemize}
%   \item
%     $Len_n = \{\omega \mid |\omega| = n\}$;
%   \item
%     $EqLen = \{(\alpha,\beta) \mid |\alpha| = |\beta|\}$.
%   \end{itemize}
% \end{problem}


\begin{problem}
  Структурата $\A$ е с универсум множеството от всички отсечки в равнината и е за език без функционални символи и
  единствен предикатен символ $P$, който е двуместен и се интерпретира така:
  $\A \models P(t,s)$ точно тогава, когато отсечките $t$ и $s$ се пресичат.
  Забележка: Отсечките са с ненулева дължина и съдържат краищата си.
  Да се докаже, че са определими:
\begin{itemize}
\item
  $I = \{(t, s) \mid \text{отсечката $t$ се съдържа в $s$}\}$;
\item
  $E = \{(t,s) \mid \text{отсечките $t$ и $s$ са равни}\}$;
\item
  $P = \{(t,s) \mid \text{отсечките $t$ и $s$ са успоредни}\}$;
\item
  $L = \{(t, s) \mid \text{един от краищата на отсечката $t$ лежи върху $s$}\}$.
\item
  $C = \{(t, s) \mid \text{отсечките $t$ и $s$ имат общ край}\}$;
\end{itemize}
Да се докаже, че $\{(t, s) \mid \text{отсечките $t$ и $s$ са с равна дължина}\}$ не е определимо.
\end{problem}
\begin{solution}
  \begin{itemize}
  \item
    $x$ се съдържа в $y$ точно тогава, когато всяка отсечка $z$, която сече $x$ сече и $y$:
    \[\phi_{\subseteq}(x,y) \equiv (\forall z)[P(x,z) \implies P(y,z)].\]
  \item
    $x$ е равна на $y$ точно тогава, когато $x$ се съдържа в $y$ и $y$ се съдържа в $x$:
    \[\phi_{=}(x,y) \equiv \phi_{\subseteq}(x,y) \land \phi_{\subseteq}(y,x).\]
  \item
    $x$ и $y$ са успоредни точно тогава, когато не съществуват техни разширения, които се секат:
    \[\phi_{||}(x,y) \equiv (\forall z_1)(\forall z_2)[\phi_{\subseteq}(x,z_1) \land \phi_{\subseteq}(y,z_2) \implies \neg P(z_1,z_2)].\]
  \item
    един от краищата на $x$ лежи върху $y$ точно тогава, когато $x$ пресича $y$ и никоя
    отсечка, която се съдържа в $t$ не пресича $s$:
    \[\phi_{\text{point}}(x,y) \equiv P(x,y) \land (\forall z)[\phi_{\subseteq}(z,x) \implies (\phi_{=}(z,x) \lor \neg P(z,y))].\]
  \item
    $x$ и $y$ имат общ край точно тогава, когато един край на $x$ лежи върху $y$ и един край на $y$ лежи върху $x$:
    \[\phi_{\text{angle}}(x,y) \equiv \phi_{\text{point}}(x,y) \land \phi_{\text{point}}(y,x).\]
  \item
    За автоморфизъм, нека $(x,y) \mapsto (2x,y)$.
  \end{itemize}
\end{solution}

% \begin{problem}
%   Ще казваме, че графът $T = (V,E)$ е дърво, ако $T$ е неориентиран свързан ацикличен граф.
%   Нека $\A = (A,\subseteq,=)$ е структура с носител всички дървета $T = (V,E)$, където $V$ е крайно множество от естествени числа.
%   \begin{itemize}
%   \item
%     Празното дърво е $T = (\emptyset,\emptyset)$ е определимо:
%     \[\phi_{\text{empty}}(x) \equiv (\forall y)[x \subseteq y].\]
%   \item
%     Тривиалните дървета $T = (\{m\},\emptyset)$ характеризират върховете. 
%     \[\phi_{\text{vertex}}(x) \equiv \neg \phi_{\text{empty}}(X) \land (\forall y)[y \subseteq x \implies (\phi_{\text{empty}}(y) \lor x = y)].\]
%   \item
%     $x$ е връх на реброто $y$ в дървото $z$:
%     \[\phi_{\text{in}}(x,y,z) \equiv \phi_{\text{vertex}}(x) \land \phi_{\text{edge}}(z) \land x \subseteq z \land z \subseteq y.\]
%   \item
%     Един връх $x$ в дървото $y$ се нарича листо, ако той има степен $1$.
%     \[\phi_{\text{leaf}}(x,y) \equiv \phi_{\text{vertex}}(x) \land x \subseteq y \land (\neg x = y \implies (\exists z)[\phi_{\text{in}}(x,z,y) \land (\forall z')[\phi_{\text{in}}(x,z',y) \implies z = z']]).\]
%     Формулата може да се запише съкратено и така:
%     \[\phi_{\text{leaf}}(x,y) \equiv \phi_{\text{vertex}}(x) \land x \subseteq y \land (\neg x = y \implies (\exists^{=1} z)[\phi_{\text{in}}(x,z,y)]).\]
%   \item
%     Всеки връх има степен $\leq 2$.
%     \begin{align*}
%       \phi_{\leq 2}(y) \equiv (\forall x)[\phi_{\text{vertex}}(x) \land x \subseteq y \implies \neg (\exists z_1)(\exists z_2)(\exists z_3)[ & \phi_{\text{in}}(x,z_1,y) \land \phi_{\text{in}}(x,z_2,y) \land \phi_{\text{in}}(x,z_3,y) \\
%                                                                                                                          & \land \neg z_1 = z_2 \land \neg z_2 = z_3 \land \neg z_1 = z_3 ].
%     \end{align*}
%   \end{itemize}
% \end{problem}



\input{logic/definability}

\input{logic/automorphism}

\input{logic/realizability}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../lp"
%%% End:
